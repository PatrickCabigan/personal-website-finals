{"ast":null,"code":"import{useState,useEffect,useCallback}from'react';import{friendsApi}from'../services/api';import toast from'react-hot-toast';export const useFriends=()=>{const[friends,setFriends]=useState([]);const[loading,setLoading]=useState(true);const[search,setSearch]=useState('');const fetchFriends=useCallback(async()=>{try{setLoading(true);const data=await friendsApi.getAll(search);setFriends(data);}catch(error){toast.error('Failed to fetch friends');}finally{setLoading(false);}},[search]);const createFriend=useCallback(async data=>{try{const newFriend=await friendsApi.create(data);setFriends(prev=>[...prev,newFriend]);toast.success('Friend added! ðŸŽ‰');return true;}catch(error){toast.error(error.message||'Failed to add friend');return false;}},[]);const updateFriend=useCallback(async(id,data)=>{try{const updated=await friendsApi.update(id,data);setFriends(prev=>prev.map(f=>f.id===id?updated:f));toast.success('Friend updated! âœ¨');return true;}catch(error){toast.error(error.message||'Failed to update friend');return false;}},[]);const deleteFriend=useCallback(async id=>{try{await friendsApi.delete(id);setFriends(prev=>prev.filter(f=>f.id!==id));toast.success('Friend removed');return true;}catch(error){toast.error(error.message||'Failed to remove friend');return false;}},[]);useEffect(()=>{fetchFriends();},[fetchFriends]);return{friends,loading,search,setSearch,createFriend,updateFriend,deleteFriend,refresh:fetchFriends};};","map":{"version":3,"names":["useState","useEffect","useCallback","friendsApi","toast","useFriends","friends","setFriends","loading","setLoading","search","setSearch","fetchFriends","data","getAll","error","createFriend","newFriend","create","prev","success","message","updateFriend","id","updated","update","map","f","deleteFriend","delete","filter","refresh"],"sources":["/workspaces/personal-website-finals/personal-website-finals/frontend/src/hooks/useFriends.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { friendsApi } from '../services/api';\nimport { Friend, CreateFriendDto } from '../types';\nimport toast from 'react-hot-toast';\n\nexport const useFriends = () => {\n  const [friends, setFriends] = useState<Friend[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState('');\n\n  const fetchFriends = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await friendsApi.getAll(search);\n      setFriends(data);\n    } catch (error) {\n      toast.error('Failed to fetch friends');\n    } finally {\n      setLoading(false);\n    }\n  }, [search]);\n\n  const createFriend = useCallback(async (data: CreateFriendDto) => {\n    try {\n      const newFriend = await friendsApi.create(data);\n      setFriends(prev => [...prev, newFriend]);\n      toast.success('Friend added! ðŸŽ‰');\n      return true;\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to add friend');\n      return false;\n    }\n  }, []);\n\n  const updateFriend = useCallback(async (id: string, data: Partial<CreateFriendDto>) => {\n    try {\n      const updated = await friendsApi.update(id, data);\n      setFriends(prev => prev.map(f => f.id === id ? updated : f));\n      toast.success('Friend updated! âœ¨');\n      return true;\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to update friend');\n      return false;\n    }\n  }, []);\n\n  const deleteFriend = useCallback(async (id: string) => {\n    try {\n      await friendsApi.delete(id);\n      setFriends(prev => prev.filter(f => f.id !== id));\n      toast.success('Friend removed');\n      return true;\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to remove friend');\n      return false;\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchFriends();\n  }, [fetchFriends]);\n\n  return {\n    friends,\n    loading,\n    search,\n    setSearch,\n    createFriend,\n    updateFriend,\n    deleteFriend,\n    refresh: fetchFriends,\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}