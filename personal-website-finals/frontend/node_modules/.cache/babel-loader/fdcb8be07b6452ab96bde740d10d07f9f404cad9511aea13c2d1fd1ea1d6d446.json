{"ast":null,"code":"import _objectSpread from\"/workspaces/personal-website-finals/personal-website-finals/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Dialog}from'@headlessui/react';import{AVATARS,VISION_COLORS}from'../../types';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FriendDialog=_ref=>{let{isOpen,onClose,onSubmit,initialData}=_ref;const[formData,setFormData]=useState({name:'',vision:'Anemo',avatar_url:AVATARS[0],status:''});const[showAvatarPicker,setShowAvatarPicker]=useState(false);useEffect(()=>{if(initialData){setFormData({name:initialData.name||'',vision:initialData.vision||'Anemo',avatar_url:initialData.avatar_url||AVATARS[0],status:initialData.status||''});}else{setFormData({name:'',vision:'Anemo',avatar_url:AVATARS[0],status:''});}},[initialData]);const handleSubmit=e=>{e.preventDefault();onSubmit(formData);};return/*#__PURE__*/_jsxs(Dialog,{open:isOpen,onClose:onClose,className:\"relative z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/70\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(Dialog.Panel,{className:\"w-full max-w-md bg-genshin-panel border-2 border-genshin-accent rounded-xl p-6\",children:[/*#__PURE__*/_jsx(Dialog.Title,{className:\"text-xl font-bold text-genshin-accent mb-4\",children:initialData?'EDIT COMPANION':'ADD COMPANION'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 rounded-full border-4 border-genshin-accent overflow-hidden mb-2 cursor-pointer\",onClick:()=>setShowAvatarPicker(true),children:/*#__PURE__*/_jsx(\"img\",{src:formData.avatar_url,alt:\"Avatar\",className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowAvatarPicker(true),className:\"text-genshin-accent underline text-sm\",children:\"CHOOSE AVATAR\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-genshin-accent mb-1 text-sm\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),className:\"input-field\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-genshin-accent mb-1 text-sm\",children:\"Vision\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.vision,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{vision:e.target.value})),className:\"input-field\",style:{color:VISION_COLORS[formData.vision]},children:Object.keys(VISION_COLORS).map(vision=>/*#__PURE__*/_jsx(\"option\",{value:vision,children:vision},vision))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-genshin-accent mb-1 text-sm\",children:\"Status\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.status,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{status:e.target.value})),className:\"input-field\",placeholder:\"e.g., Exploring Liyue\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 btn-outline\",children:\"CANCEL\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 btn-primary\",children:\"SAVE\"})]})]})]})}),showAvatarPicker&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/90\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-genshin-panel rounded-xl p-6 max-w-3xl w-full max-h-[80vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-genshin-accent mb-4\",children:\"Choose Avatar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 md:grid-cols-5 gap-4\",children:AVATARS.map((avatar,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setFormData(_objectSpread(_objectSpread({},formData),{},{avatar_url:avatar}));setShowAvatarPicker(false);},className:\"aspect-square rounded-full overflow-hidden border-2 border-transparent hover:border-genshin-accent transition\",children:/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"Avatar \".concat(index+1),className:\"w-full h-full object-cover\"})},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAvatarPicker(false),className:\"mt-4 px-4 py-2 bg-genshin-accent text-black rounded hover:bg-yellow-600\",children:\"Close\"})]})})]});};export default FriendDialog;","map":{"version":3,"names":["React","useState","useEffect","Dialog","AVATARS","VISION_COLORS","jsx","_jsx","jsxs","_jsxs","FriendDialog","_ref","isOpen","onClose","onSubmit","initialData","formData","setFormData","name","vision","avatar_url","status","showAvatarPicker","setShowAvatarPicker","handleSubmit","e","preventDefault","open","className","children","Panel","Title","onClick","src","alt","type","value","onChange","_objectSpread","target","required","style","color","Object","keys","map","placeholder","avatar","index","concat"],"sources":["/workspaces/personal-website-finals/personal-website-finals/frontend/src/components/friends/FriendDialog.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Dialog } from '@headlessui/react';\nimport { AVATARS, VISION_COLORS } from '../../types';\n\ninterface FriendDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: (data: any) => void;\n  initialData?: any;\n}\n\nconst FriendDialog: React.FC<FriendDialogProps> = ({\n  isOpen,\n  onClose,\n  onSubmit,\n  initialData,\n}) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    vision: 'Anemo',\n    avatar_url: AVATARS[0],\n    status: '',\n  });\n  const [showAvatarPicker, setShowAvatarPicker] = useState(false);\n\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        name: initialData.name || '',\n        vision: initialData.vision || 'Anemo',\n        avatar_url: initialData.avatar_url || AVATARS[0],\n        status: initialData.status || '',\n      });\n    } else {\n      setFormData({\n        name: '',\n        vision: 'Anemo',\n        avatar_url: AVATARS[0],\n        status: '',\n      });\n    }\n  }, [initialData]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSubmit(formData);\n  };\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <div className=\"fixed inset-0 bg-black/70\" aria-hidden=\"true\" />\n      \n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n        <Dialog.Panel className=\"w-full max-w-md bg-genshin-panel border-2 border-genshin-accent rounded-xl p-6\">\n          <Dialog.Title className=\"text-xl font-bold text-genshin-accent mb-4\">\n            {initialData ? 'EDIT COMPANION' : 'ADD COMPANION'}\n          </Dialog.Title>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Avatar Selection */}\n            <div className=\"flex flex-col items-center\">\n              <div className=\"w-20 h-20 rounded-full border-4 border-genshin-accent overflow-hidden mb-2 cursor-pointer\"\n                   onClick={() => setShowAvatarPicker(true)}>\n                <img src={formData.avatar_url} alt=\"Avatar\" className=\"w-full h-full object-cover\" />\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => setShowAvatarPicker(true)}\n                className=\"text-genshin-accent underline text-sm\"\n              >\n                CHOOSE AVATAR\n              </button>\n            </div>\n\n            {/* Name Field */}\n            <div>\n              <label className=\"block text-genshin-accent mb-1 text-sm\">Name</label>\n              <input\n                type=\"text\"\n                value={formData.name}\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                className=\"input-field\"\n                required\n              />\n            </div>\n\n            {/* Vision Field */}\n            <div>\n              <label className=\"block text-genshin-accent mb-1 text-sm\">Vision</label>\n              <select\n                value={formData.vision}\n                onChange={(e) => setFormData({ ...formData, vision: e.target.value })}\n                className=\"input-field\"\n                style={{ color: VISION_COLORS[formData.vision as keyof typeof VISION_COLORS] }}\n              >\n                {Object.keys(VISION_COLORS).map((vision) => (\n                  <option key={vision} value={vision}>\n                    {vision}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Status Field */}\n            <div>\n              <label className=\"block text-genshin-accent mb-1 text-sm\">Status</label>\n              <input\n                type=\"text\"\n                value={formData.status}\n                onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                className=\"input-field\"\n                placeholder=\"e.g., Exploring Liyue\"\n              />\n            </div>\n\n            {/* Buttons */}\n            <div className=\"flex gap-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"flex-1 btn-outline\"\n              >\n                CANCEL\n              </button>\n              <button\n                type=\"submit\"\n                className=\"flex-1 btn-primary\"\n              >\n                SAVE\n              </button>\n            </div>\n          </form>\n        </Dialog.Panel>\n      </div>\n\n      {/* Avatar Picker Modal */}\n      {showAvatarPicker && (\n        <div className=\"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/90\">\n          <div className=\"bg-genshin-panel rounded-xl p-6 max-w-3xl w-full max-h-[80vh] overflow-y-auto\">\n            <h2 className=\"text-xl font-bold text-genshin-accent mb-4\">Choose Avatar</h2>\n            <div className=\"grid grid-cols-3 md:grid-cols-5 gap-4\">\n              {AVATARS.map((avatar, index) => (\n                <button\n                  key={index}\n                  onClick={() => {\n                    setFormData({ ...formData, avatar_url: avatar });\n                    setShowAvatarPicker(false);\n                  }}\n                  className=\"aspect-square rounded-full overflow-hidden border-2 border-transparent hover:border-genshin-accent transition\"\n                >\n                  <img src={avatar} alt={`Avatar ${index + 1}`} className=\"w-full h-full object-cover\" />\n                </button>\n              ))}\n            </div>\n            <button\n              onClick={() => setShowAvatarPicker(false)}\n              className=\"mt-4 px-4 py-2 bg-genshin-accent text-black rounded hover:bg-yellow-600\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n    </Dialog>\n  );\n};\n\nexport default FriendDialog;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}